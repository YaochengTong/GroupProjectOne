<div style="position: relative; top: 40%; left: 50%;" *ngIf="!isDataAvailable">
  <mat-spinner></mat-spinner>
  <strong>Loading...</strong>
</div>

<div *ngIf="isDataAvailable">
<div style="width: 90%; margin: auto">
  <div *ngIf="isShowMessage" style="position: absolute; right: 2%; top: 20%;">
    <mat-icon [matBadge]="messageNum" matBadgeColor="warn">email</mat-icon>
    <p style="font-style: oblique; color: #F1C40F; display: inline;"> You have a new message! </p>
  </div>

  <div *ngIf="!isShowMessage" style="position: absolute; right: 10%; top: 20%;">
    <mat-icon (click)="openSnackBar('No Message!', 'close')">email</mat-icon>
  </div>

  <mat-card class="example-card" >
    <mat-card-header>
      <div mat-card-avatar class="example-header-image"></div>
      <mat-card-title>{{userName}}</mat-card-title>
      <mat-card-subtitle>{{email}}</mat-card-subtitle>
    </mat-card-header>
    <img
      mat-card-image
      src="https://material.angular.io/assets/img/examples/shiba2.jpg"
      alt="Photo of a Shiba Inu"
    />
    <hr>
    <mat-card-content>
      <p><strong>Document Uploaded:</strong></p>
      <div *ngFor="let d of documents">
        <mat-icon style="font-size: medium;">file_copy</mat-icon>{{d.name}} 
        <button style="float: right;">download</button> <button style="float: right;">preview</button>
      </div>
    </mat-card-content>
  </mat-card>
</div>

<div>
  <mat-card class="example-card1">
    <mat-card-header>
      <mat-card-title>Message</mat-card-title><br>
    </mat-card-header>
    <hr>
    
    <mat-card-content style="display: inline-block;">
      <mat-card-subtitle style="color: #F1C40F; font-style: oblique; font-weight: bold;">NEXT MOVE: {{visaInfo.message}}</mat-card-subtitle>
      
      <p> Your Current Visa Status: </p>

      <form>

        <mat-form-field style="float: left;">
          <mat-label>Work Authorization: </mat-label>
          <input matInput style="color: black;" disabled [value]="visaInfo.workAuthorization">
        </mat-form-field>

        <mat-form-field style="float: left;">
          <mat-label>Authorization Day Left: </mat-label>
          <input matInput style="color: black;" disabled [value]="visaInfo.authorizationDayLeft">
        </mat-form-field>


        <mat-form-field style="float: left;">
          <mat-label>Authorization Start Date:</mat-label>
          <input matInput style="color: black;" disabled [value]="visaInfo.authorizationStartDate">
        </mat-form-field>

        <mat-form-field style="float: left;">
          <mat-label>Authorization End Date:</mat-label>
          <input matInput style="color: black;" disabled [value]="visaInfo.authorizationEndDate">
        </mat-form-field>
     
      </form>

    </mat-card-content>

    <!-- current step: opt receipt -->
    <mat-card-content style="display: inline-block;" *ngIf="visaInfo.currStep == '1'">
      <div>
        <button>Upload File</button>
      </div>
    </mat-card-content>
 
    <!-- current step: opt stem -->
    <mat-card-content  style="display: inline-block;" *ngIf="visaInfo.currStep == '2'">
      <div class="row">
        <div class="col">
          <a
            href="https://gp1storage.s3.us-east-2.amazonaws.com/template/i983.pdf"
          >I983 Template</a>
          <a
            href="https://gp1storage.s3.us-east-2.amazonaws.com/template/i983.pdf" target="_blank"
          >I983 Instruction</a>
        </div>
        <div class="col">
          <mat-form-field class="full-width" required>
            <ngx-mat-file-input
              [formControl]="fileI983"
              [multiple]="multiple"
              [color]="color"
            >
              <mat-icon ngxMatFileInputIcon>folder</mat-icon>
            </ngx-mat-file-input>
          </mat-form-field>
        </div>
      </div>
      <button>upload</button>
    </mat-card-content>

    <!-- current step: i-985 filled -->
    <mat-card-content  style="display: inline-block;" *ngIf="visaInfo.currStep == '3'">
      <p>Thank you for your patience.</p>
    </mat-card-content>

    <!-- current step: i-985 signed -->
    <mat-card-content  style="display: inline-block;" *ngIf="visaInfo.currStep == '4'">
      <button>Submit File</button>
    </mat-card-content>

    <!-- current step: i-20 -->
    <mat-card-content  style="display: inline-block;" *ngIf="visaInfo.currStep == '5'">
      <div>
        <button>Upload File</button>
      </div>
    </mat-card-content>

    <!-- current step: opt stem receip -->
    <mat-card-content  style="display: inline-block;" *ngIf="visaInfo.currStep == '6'">
      <button>Upload File</button>
    </mat-card-content> 



  </mat-card>
</div>


</div>
